<mxfile host="app.diagrams.net" modified="2023-08-04T07:59:24.660Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/115.0.0.0 Safari/537.36" etag="gfinpoquD6xth4cL8cLD" version="21.6.6" type="google">
  <diagram name="Page-1" id="P0OWYq-GYP4Sr67nGhOI">
    <mxGraphModel grid="1" page="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-1" value="Customers" style="sketch=0;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3D;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;pointerEvents=1;shape=mxgraph.aws4.users;points=[[0,0.25,0,0,0],[0,0.75,0,0,0],[0.25,0,0,0,0],[0.25,1,0,0,0],[0.75,0,0,0,0],[0.75,1,0,0,0],[1,0.25,0,0,0],[1,0.75,0,0,0]];fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="240" y="360" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-2" value="Amazon Cognito&lt;br style=&quot;font-size: 18px;&quot;&gt;Hosted UI" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="240" y="100" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-4" value="Route 53" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_53;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="440" y="360" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-6" value="API Gateway" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#945DF2;gradientDirection=north;fillColor=#5A30B5;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="640" y="360" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-7" value="Lambda&lt;br&gt;(postPhoto)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="880" y="360" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-8" value="DynamoDB" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4D72F3;gradientDirection=north;fillColor=#3334B9;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1000" y="200" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-9" value="S3" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#60A337;gradientDirection=north;fillColor=#277116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1000" y="550" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-11" value="Amazon Cognito&lt;br style=&quot;font-size: 18px;&quot;&gt;User Pool Authorizer" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F54749;gradientDirection=north;fillColor=#C7131F;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="640" y="100" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-12" value="Lambda (createThumbnailMobile)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1600" y="550" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-18" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-1" target="2qXzAHNiQAM1xIG2n9A0-2">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="350" y="330" as="sourcePoint" />
            <mxPoint x="450" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-19" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-2" target="2qXzAHNiQAM1xIG2n9A0-1">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="350" y="330" as="sourcePoint" />
            <mxPoint x="450" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-20" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=0.25;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-6" target="2qXzAHNiQAM1xIG2n9A0-11">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="690" y="300" as="sourcePoint" />
            <mxPoint x="790" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-21" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.75;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-11" target="2qXzAHNiQAM1xIG2n9A0-6">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="690" y="300" as="sourcePoint" />
            <mxPoint x="790" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-22" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-7" target="2qXzAHNiQAM1xIG2n9A0-9">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="890" y="490" as="sourcePoint" />
            <mxPoint x="990" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-23" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0.75;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0;exitY=0.25;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-9" target="2qXzAHNiQAM1xIG2n9A0-7">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="890" y="490" as="sourcePoint" />
            <mxPoint x="990" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-24" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-7" target="2qXzAHNiQAM1xIG2n9A0-8">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="980" y="320" as="sourcePoint" />
            <mxPoint x="1080" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-25" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-9" target="w9rplvqUDNbAMgKUAzUo-1">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1090" y="559.9" as="sourcePoint" />
            <mxPoint x="1200" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-26" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontSize=18;" edge="1" parent="1" target="2qXzAHNiQAM1xIG2n9A0-9">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1680" y="560" as="sourcePoint" />
            <mxPoint x="1840" y="760" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1780" y="560" />
              <mxPoint x="1780" y="840" />
              <mxPoint x="1020" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-27" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-6" target="2qXzAHNiQAM1xIG2n9A0-7">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="730" y="380" as="sourcePoint" />
            <mxPoint x="830" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-28" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=none;elbow=vertical;startArrow=block;startFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-6" target="2qXzAHNiQAM1xIG2n9A0-7">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="770" y="420" as="sourcePoint" />
            <mxPoint x="820" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-29" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.496;exitY=0.996;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-1" target="2qXzAHNiQAM1xIG2n9A0-9">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="280" y="470" as="sourcePoint" />
            <mxPoint x="850" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-30" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-1" target="2qXzAHNiQAM1xIG2n9A0-4">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="440" y="390" as="sourcePoint" />
            <mxPoint x="540" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-31" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=none;elbow=vertical;startArrow=block;startFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-1" target="2qXzAHNiQAM1xIG2n9A0-4">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="440" y="390" as="sourcePoint" />
            <mxPoint x="540" y="390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-32" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.25;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-4" target="2qXzAHNiQAM1xIG2n9A0-6">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="560" y="410" as="sourcePoint" />
            <mxPoint x="640" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-33" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=none;elbow=vertical;startArrow=block;startFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-4" target="2qXzAHNiQAM1xIG2n9A0-6">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="560" y="410" as="sourcePoint" />
            <mxPoint x="640" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-36" value="1. Signs in with Cognito." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="120" y="260" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-37" value="2. Returns a token (JWT)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="310" y="260" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-38" value="3. Sends a POST /photos request." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="300" y="330" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-39" value="4. Routes the request to API Gateway." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="520" y="330" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-40" value="5. Verifies the JWT token sent in the request." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="500" y="250" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-42" value="6. If token is missing/invalid, the request is denied." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="700" y="265" width="160" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-43" value="7. Triggers the postPhoto function." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="745" y="330" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-44" value="8. Requests a presigned URL to upload the photo to S3." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="780" y="530" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-45" value="9. Returns the URL." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="940" y="515" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-46" value="10. The photo metadata, along with the user&#39;s username is added to DynamoDB." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="840" y="160" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-47" value="11. The URL is returned to the customer." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="740" y="440" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-48" value="12. Uploads the source photo using the presigned URL." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="430" y="565" width="290" height="30" as="geometry" />
        </mxCell>
        <mxCell id="2qXzAHNiQAM1xIG2n9A0-49" value="13. Notifies SNS when the source photo is uploaded." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1080" y="530" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-1" value="SNS" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#FF4F8B;gradientDirection=north;fillColor=#BC1356;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sns;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1200" y="550" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-2" value="SQS" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#FF4F8B;gradientDirection=north;fillColor=#BC1356;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1440" y="550" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-3" value="Rekognition" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#4AB29A;gradientDirection=north;fillColor=#116D5B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.rekognition_2;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1800" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-5" value="Lambda (identifyTags)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1600" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-6" value="Lambda (createThumbnailDesktop)" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#F78E04;gradientDirection=north;fillColor=#D05C17;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1600" y="670" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-8" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-1" target="w9rplvqUDNbAMgKUAzUo-2">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1450" y="550" as="sourcePoint" />
            <mxPoint x="1550" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-9" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-17" target="w9rplvqUDNbAMgKUAzUo-5">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1450" y="550" as="sourcePoint" />
            <mxPoint x="1550" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-10" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-2" target="2qXzAHNiQAM1xIG2n9A0-12">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1450" y="550" as="sourcePoint" />
            <mxPoint x="1550" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-11" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-18" target="w9rplvqUDNbAMgKUAzUo-6">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1450" y="550" as="sourcePoint" />
            <mxPoint x="1550" y="550" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-12" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=block;startFill=1;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-5" target="w9rplvqUDNbAMgKUAzUo-3">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1690" y="440" as="sourcePoint" />
            <mxPoint x="1790" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-15" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=none;elbow=vertical;startArrow=block;startFill=1;strokeColor=#545B64;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-9" target="w9rplvqUDNbAMgKUAzUo-6">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1310" y="620" as="sourcePoint" />
            <mxPoint x="1410" y="620" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1060" y="760" />
              <mxPoint x="1640" y="760" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-16" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=none;elbow=vertical;startArrow=block;startFill=1;strokeColor=#545B64;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="2qXzAHNiQAM1xIG2n9A0-8" target="w9rplvqUDNbAMgKUAzUo-5">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1480" y="330" as="sourcePoint" />
            <mxPoint x="1580" y="330" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-17" value="SQS" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#FF4F8B;gradientDirection=north;fillColor=#BC1356;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1440" y="430" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-18" value="SQS" style="sketch=0;points=[[0,0,0],[0.25,0,0],[0.5,0,0],[0.75,0,0],[1,0,0],[0,1,0],[0.25,1,0],[0.5,1,0],[0.75,1,0],[1,1,0],[0,0.25,0],[0,0.5,0],[0,0.75,0],[1,0.25,0],[1,0.5,0],[1,0.75,0]];outlineConnect=0;fontColor=#232F3E;gradientColor=#FF4F8B;gradientDirection=north;fillColor=#BC1356;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=18;fontStyle=1;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.sqs;fontFamily=calibri;" vertex="1" parent="1">
          <mxGeometry x="1440" y="670" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-20" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-1" target="w9rplvqUDNbAMgKUAzUo-17">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1430" y="580" as="sourcePoint" />
            <mxPoint x="1530" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-21" value="" style="edgeStyle=orthogonalEdgeStyle;html=1;endArrow=block;elbow=vertical;startArrow=none;endFill=1;strokeColor=#545B64;rounded=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;fontFamily=calibri;fontStyle=1;fontSize=18;" edge="1" parent="1" source="w9rplvqUDNbAMgKUAzUo-1" target="w9rplvqUDNbAMgKUAzUo-18">
          <mxGeometry width="100" relative="1" as="geometry">
            <mxPoint x="1430" y="580" as="sourcePoint" />
            <mxPoint x="1530" y="580" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-22" value="14. Different queues can subscribe to the SNS topic." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1290" y="535" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-23" value="15. Calls Rekognition to identify tags in the photo, then saves this information into DynamoDB." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1640" y="385" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="w9rplvqUDNbAMgKUAzUo-24" value="16. Different thumbnail versions are produced in parallel by their corresponding Lambda functions then saved into S3." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontFamily=calibri;fontStyle=1;fontSize=18;" vertex="1" parent="1">
          <mxGeometry x="1170" y="800" width="470" height="30" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
